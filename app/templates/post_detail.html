{% extends "base.html" %}

{% block content %}
<h1>{{ post.title }}</h1>
<p>{{ post.content }}</p>
<p>By {{ post.author.username }} on {{ post.created_at }}</p>
{% if current_user and post.author.id == current_user.id %}
    <a href="/posts/{{ post.id }}/edit">Edit</a>
    <form method="post" action="/posts/{{ post.id }}/delete">
        <button type="submit" onclick="return confirm('Are you sure you want to delete this post?');">Delete</button>
    </form>
{% endif %}
<hr>

<h2>Comments</h2>
<ul>
    {% for comment in comments %}
        <li>{{ comment.content }} (by User {{ comment.author.username }})</li>
    {% else %}
        <li>No comments yet.</li>
    {% endfor %}
</ul>

<hr>
<h3>Add a Comment</h3>
<form method="post" action="/posts/{{ post.id }}/comments/html">
    <textarea name="content" rows="3" required></textarea><br><br>
    <button type="submit">Add Comment</button>
</form>

<p><a href="/posts/html">‚Üê Back to Posts</a></p>
{% endblock %}